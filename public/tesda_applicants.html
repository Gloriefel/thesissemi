<!--
=========================================================
Material Dashboard - v2.1.2
=========================================================

Product Page: https://www.creative-tim.com/product/material-dashboard
Copyright 2020 Creative Tim (https://www.creative-tim.com)
Coded by Creative Tim

=========================================================
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
   ASCB CHED-TESDA Scholarship Information System
  </title>
  <meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link type="text/css" href="/css/fillup.css" rel="stylesheet">

  <link href="../assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
   

     
</head>

<body>



<div id="userpage">

  <div class="wrapper ">
    <div class="sidebar" data-color="purple" data-background-color="white" data-image="/img/icons/icon128x128.png">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

        Tip 2: you can also add an image using data-image tag
    -->
    <div class="logo">
      <a href="/homepage.html" class="simple-text logo-normal" style="text-transform: lowercase;">
        <img src="/img/tesda.png"  width="50px" height="50px" class="float-left ml-2">

      <h6 class="px-2 mt-2" style="font-size: 12px;"> 
        TESDA  Information System    <br>
        For College Students    </h6>
    </a></div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="nav-item ">
            <a class="nav-link" href="/tesda_enrollee.html">
              <i class="material-icons"> groups</i>
              <p> Enrollees</p>
            </a>
          </li>           
          <li class="nav-item active">
            <a class="nav-link" href="/tesda_applicants.html">
              <i class="material-icons">receipt_long</i>
              <p>List of Applicants</p>
            </a>
          </li>
          <li class="nav-item  ">
            <a class="nav-link" href="/tesda_qualifiedapplicants.html">
              <i class="material-icons">    how_to_reg </i>
              <p>Qualified Scholars</p>
            </a>
          </li>
          <li class="nav-item  ">
            <a class="nav-link" href="/tesda_officialscholars.html">
              <!-- <i class="material-icons">   stars </i> -->
              <i class="material-icons">   star         </i>
              <p>Official Scholars</p>
            </a>
          </li>
         
          <li class="nav-item">
            <a class="nav-link" href="/tesda_adminupdates.html">              
              <i class="material-icons"> touch_app </i>
              <!-- <i class="material-icons">   admin_panel_settings   </i> -->
              <p>Updates</p>
            </a>
          </li>
          <li class="nav-item active-pro mb-5">
            <a class="nav-link" href="/ched_enrollee.html">
              <i class="material-icons">shuffle</i>
              <p>Switch CHED</p>
            </a>
          </li> 
          <li class="nav-item active-pro ">
            <a class="nav-link" id="logout">
              <i class="material-icons">login</i>
              <p>Logout</p>
            </a>
          </li> 
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
        <div class="container-fluid">
         
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end"> 
            
          </div>
        </div>
       
      </nav>

      
      <div class="content">
        <div class="container-fluid"> 
                <div class="col-md-12">
                  <div class="card">
                    <script>
                      var tesdastepapplicantslist=0;
                      var tesdatwspapplicantslist=0;
                    </script>
                    <div class="card-header card-header-primary pb-0">
                      
                      <div class="d-flex" style="justify-content: space-between;">
                        <h4 class="card-title "> TESDA Applicants</h4>
                         
                      </div>
                      
                      <p class="card-category"> Year
                         <h3 class="m-0 p-0">
                        <script>
                          document.write(new Date().getFullYear())
                        </script>
                      </h3> </p>
                     
                      
                    </div>
                    <div class="card-body">
                      <p id="resultched"></p>
                      <div id="award"></div>
                      <ul class="p-0 float-left nav nav-tabs" role="tablist" style="font-size: 15px;">
                        <!-- <li class="active"><a href="#hometab" role="tab" data-toggle="tab" style="color: white;">All CHED Scholars</a></li>  -->
                        <li class="dropdown">
                                  <a class="dropdown-toggle" data-toggle="dropdown" href="#" style="color: black;">Type of TESDA <b class="caret"></b></a>
                          <ul class="dropdown-menu">
                            <li><a href="#jquerytab" role="tab" data-toggle="tab">TESDA-TWSP</a></li>
                            <li><a href="#bootstab" role="tab" data-toggle="tab">TESDA-STEP</a></li>
                             
                          </ul> 
                        </li>  
                        
                      </ul> 
                      <div class="tab-content">
                        
                        <div class="tab-pane active" id="jquerytab"> 

                       <h5 style="margin-left: 140px;">  TESDA-TWSP Scholars <i class="response p-0 m-0 mr-5 text-danger font-weight-bold"></i></h5>
                          <table class="table">
                            <thead class=" text-primary ">
                              <th>
                                ID Picture
                              </th>
                              <th>
                                Name of Applicant
                              </th>
                              <th>
                                Application Form
                              </th>
                              
                              <th>
                                 Requirements
                              </th>
                              <th class="text-center">
                                Remarks
                              </th>
                               
                              
                            </thead>
                            <tbody id="tesdatwspapplicationform">
                             
                            </tbody>
                          </table>  
                        </div>
                        <div class="tab-pane" id="bootstab">
                          <h5 style="margin-left: 140px;">  TESDA-STEP Scholars <i class="response p-0 m-0 mr-5 text-danger font-weight-bold"></i></h5>
                          <table class="table">
                            <thead class=" text-primary ">
                              <th>
                                ID Picture
                              </th>
                              <th>
                                Name of Applicant
                              </th>
                              <th>
                                Application Form
                              </th>
                              
                              <th>
                                 Requirements
                              </th>
                              <th class="text-center">
                                Remarks
                              </th>
                               
                              
                            </thead>
                            <tbody id="tesdastepapplicationform">
                             
                            </tbody>
                            
                          </table> 
                        </div>
                        
                      </div>
                      
                      
                    </div>
                  </div>
                </div>  
                
               
        </div>   
        
      

      </div>

    
    
     
      <!-- <footer class="footer">
        <div class="container-fluid">
          <nav class="float-left">
            <ul>
              <li>
                <a href="https://www.creative-tim.com">
                  Creative Tim
                </a>
              </li>
              <li>
                <a href="https://creative-tim.com/presentation">
                  About Us
                </a>
              </li>
              <li>
                <a href="http://blog.creative-tim.com">
                  Blog
                </a>
              </li>
              <li>
                <a href="https://www.creative-tim.com/license">
                  Licenses
                </a>
              </li>
            </ul>
          </nav>
          <div class="copyright float-right">
            &copy;
            <script>
              document.write(new Date().getFullYear())
            </script>, made with <i class="material-icons">favorite</i> by
            <a href="https://www.creative-tim.com" target="_blank">Creative Tim</a> for a better web.
          </div>
        </div>
      </footer> -->
    </div>
    
  </div> 
</div>



  <!--   Core JS Files   -->
  <script src="../assets/js/core/jquery.min.js"></script>
  <script src="../assets/js/core/popper.min.js"></script>
  <script src="../assets/js/core/bootstrap-material-design.min.js"></script>
  <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!-- Plugin for the momentJs  -->
  <script src="../assets/js/plugins/moment.min.js"></script>
  <!--  Plugin for Sweet Alert -->
  <script src="../assets/js/plugins/sweetalert2.js"></script>
  <!-- Forms Validations Plugin -->
  <script src="../assets/js/plugins/jquery.validate.min.js"></script>
  <!-- Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
  <script src="../assets/js/plugins/jquery.bootstrap-wizard.js"></script>
  <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
  <script src="../assets/js/plugins/bootstrap-selectpicker.js"></script>
  <!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
  <script src="../assets/js/plugins/bootstrap-datetimepicker.min.js"></script>
  <!--  DataTables.net Plugin, full documentation here: https://datatables.net/  -->
  <script src="../assets/js/plugins/jquery.dataTables.min.js"></script>
  <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
  <script src="../assets/js/plugins/bootstrap-tagsinput.js"></script>
  <!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
  <script src="../assets/js/plugins/jasny-bootstrap.min.js"></script>
  <!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    -->
  <script src="../assets/js/plugins/fullcalendar.min.js"></script>
  <!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ -->
  <script src="../assets/js/plugins/jquery-jvectormap.js"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="../assets/js/plugins/nouislider.min.js"></script>
  <!-- Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js"></script>
  <!-- Library for adding dinamically elements -->
  <script src="../assets/js/plugins/arrive.min.js"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
  <!-- Chartist JS -->
  <script src="../assets/js/plugins/chartist.min.js"></script>
  <!--  Notifications Plugin    -->
  <script src="../assets/js/plugins/bootstrap-notify.js"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="../assets/js/material-dashboard.js?v=2.1.2" type="text/javascript"></script>
  <!-- Material Dashboard DEMO methods, don't include it in your project! -->
  <script src="../assets/demo/demo.js"></script>
  <script>
    $(document).ready(function() {
      $().ready(function() {
        $sidebar = $('.sidebar');

        $sidebar_img_container = $sidebar.find('.sidebar-background');

        $full_page = $('.full-page');

        $sidebar_responsive = $('body > .navbar-collapse');

        window_width = $(window).width();

        fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();

        if (window_width > 767 && fixed_plugin_open == 'Dashboard') {
          if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {
            $('.fixed-plugin .dropdown').addClass('open');
          }

        }

        $('.fixed-plugin a').click(function(event) {
          // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
          if ($(this).hasClass('switch-trigger')) {
            if (event.stopPropagation) {
              event.stopPropagation();
            } else if (window.event) {
              window.event.cancelBubble = true;
            }
          }
        });

        $('.fixed-plugin .active-color span').click(function() {
          $full_page_background = $('.full-page-background');

          $(this).siblings().removeClass('active');
          $(this).addClass('active');

          var new_color = $(this).data('color');

          if ($sidebar.length != 0) {
            $sidebar.attr('data-color', new_color);
          }

          if ($full_page.length != 0) {
            $full_page.attr('filter-color', new_color);
          }

          if ($sidebar_responsive.length != 0) {
            $sidebar_responsive.attr('data-color', new_color);
          }
        });

        $('.fixed-plugin .background-color .badge').click(function() {
          $(this).siblings().removeClass('active');
          $(this).addClass('active');

          var new_color = $(this).data('background-color');

          if ($sidebar.length != 0) {
            $sidebar.attr('data-background-color', new_color);
          }
        });

        $('.fixed-plugin .img-holder').click(function() {
          $full_page_background = $('.full-page-background');

          $(this).parent('li').siblings().removeClass('active');
          $(this).parent('li').addClass('active');


          var new_image = $(this).find("img").attr('src');

          if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            $sidebar_img_container.fadeOut('fast', function() {
              $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
              $sidebar_img_container.fadeIn('fast');
            });
          }

          if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
            var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

            $full_page_background.fadeOut('fast', function() {
              $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
              $full_page_background.fadeIn('fast');
            });
          }

          if ($('.switch-sidebar-image input:checked').length == 0) {
            var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
            var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

            $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
            $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
          }

          if ($sidebar_responsive.length != 0) {
            $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
          }
        });

        $('.switch-sidebar-image input').change(function() {
          $full_page_background = $('.full-page-background');

          $input = $(this);

          if ($input.is(':checked')) {
            if ($sidebar_img_container.length != 0) {
              $sidebar_img_container.fadeIn('fast');
              $sidebar.attr('data-image', '#');
            }

            if ($full_page_background.length != 0) {
              $full_page_background.fadeIn('fast');
              $full_page.attr('data-image', '#');
            }

            background_image = true;
          } else {
            if ($sidebar_img_container.length != 0) {
              $sidebar.removeAttr('data-image');
              $sidebar_img_container.fadeOut('fast');
            }

            if ($full_page_background.length != 0) {
              $full_page.removeAttr('data-image', '#');
              $full_page_background.fadeOut('fast');
            }

            background_image = false;
          }
        });

        $('.switch-sidebar-mini input').change(function() {
          $body = $('body');

          $input = $(this);

          if (md.misc.sidebar_mini_active == true) {
            $('body').removeClass('sidebar-mini');
            md.misc.sidebar_mini_active = false;

            $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

          } else {

            $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');

            setTimeout(function() {
              $('body').addClass('sidebar-mini');

              md.misc.sidebar_mini_active = true;
            }, 300);
          }

          // we simulate the window Resize so the charts will get updated in realtime.
          var simulateWindowResize = setInterval(function() {
            window.dispatchEvent(new Event('resize'));
          }, 180);

          // we stop the simulation of Window Resize after the animations are completed
          setTimeout(function() {
            clearInterval(simulateWindowResize);
          }, 1000);

        });
      });
    });
  </script>


     <!-- The core Firebase JS SDK is always required and must be listed first -->
     <script src="https://www.gstatic.com/firebasejs/7.15.4/firebase-app.js"></script>
     <script src="https://www.gstatic.com/firebasejs/7.15.4/firebase-auth.js"></script>
     <script src="https://www.gstatic.com/firebasejs/7.15.4/firebase-database.js"></script>
     <script src="https://www.gstatic.com/firebasejs/7.15.4/firebase-storage.js"></script>
   
   
     <!-- <script src="https://www.gstatic.com/firebasejs/7.15.4/firebase-firestore.js"></script> -->
     <script src="https://www.gstatic.com/firebasejs/7.15.4/firebase-functions.js"></script>
     
   
      
      <!-- database refer -->
   <script src="/js/auth.js"></script>  



   <script>
     firebase.auth().onAuthStateChanged(function(user){
   
       if(!user){
        window.location.href = "/";
         
       }
     });

 
   </script>  
  
 <!-- applicants ui -->
<script>
  var tesdastepList = firebase.database().ref().child("Tesda/Step_applicants").orderByChild("tesdastepapplicantslist");
  var tesdatwspList = firebase.database().ref().child("Tesda/Twsp_applicants").orderByChild("tesdatwspapplicantslist");

  // STEP
  tesdastepList.on("value", function(tesdastepapplicationform){
      if(tesdastepapplicationform.exists){
      var tesdastepapplicationformHtml =""; 
      tesdastepapplicationform.forEach(function(tesdasingleApplicant){
        tesdastepapplicantslist = tesdastepapplicantslist + 1;

        tesdastepapplicationformHtml += "<tr> ";  
          tesdastepapplicationformHtml += "<td> <img style='width:.5in; height:.5in;' src='" + tesdasingleApplicant.val().image + "'/></td>"; 

          tesdastepapplicationformHtml += "<td> <h4>   " +tesdasingleApplicant.val().last + "," + " " ; 
            tesdastepapplicationformHtml +=   tesdasingleApplicant.val().first; 
            tesdastepapplicationformHtml += " " + " " + " " + " " + tesdasingleApplicant.val().middle + " </h4> </td>";  

            tesdastepapplicationformHtml += "<td> <label class='text-dark mt-1'>  <h4 data-toggle='modal' data-target='#"+tesdasingleApplicant.val().last+"'> Form </h4> </label>";   
          
              tesdastepapplicationformHtml += "<div class='modal fade' id='"+tesdasingleApplicant.val().last+"' role='dialog'>";  
          
                tesdastepapplicationformHtml += "<div class='modal-dialog'>  <div class='modal-content content mx-auto' > <div class='modal-header'> ";   
                  tesdastepapplicationformHtml += "  <button type='button' class='close pull-right' data-dismiss='modal'>&times;</button> ";  

                  tesdastepapplicationformHtml += "<label> <span class='material-icons'>print</span> <input type='button' onclick=printDiv('twspprintme') style='position: absolute; z-index: -1;'> </input> </label>  <div class='modal-body p-0' id='twspprintme'> ";    
              // modalbody    

              // layer 1
              tesdastepapplicationformHtml += "<div id='header' class='bordertesda mt-4'>";
                tesdastepapplicationformHtml += "  <div class='text-center p-0' style='display: grid; grid-template-columns: .2fr 1fr .2fr;'>";

                  tesdastepapplicationformHtml += "  <div  style='border-right:solid; border-width:thin;'>";
                    tesdastepapplicationformHtml += " <img src='/img/tesda.png'  height='50px' width='50px'>";
                    tesdastepapplicationformHtml += "</div>";
                    tesdastepapplicationformHtml += "  <div class=' guide' style='border-right:solid; border-width:thin;'>  <b>  Technical Education and Skills Development Authority </b> <br>  Pangasiwaan sa Edukasyong Teknikal at Pagpapaunlad ng Kasanayan TWSA Form   </div> ";
                    tesdastepapplicationformHtml += "<div  class='guide'> <b> <i> TWSA Form  <br> 0032017 </i></b> </div>";
                    tesdastepapplicationformHtml += "</div>";
                  tesdastepapplicationformHtml += " </div>";

              // layer 2
              tesdastepapplicationformHtml += "  <div style='border-right:solid; border-left:solid; border-width:thin; '>";
                tesdastepapplicationformHtml += " <h5 class='titleset p-2 mb-0 ' style=' style='font-weight: bold;'>TESDA Walk-in Scholarship Application Form</h5>";
                tesdastepapplicationformHtml += "</div>";

              // layer 3
              tesdastepapplicationformHtml += " <div id='applicantprof'>";
                tesdastepapplicationformHtml += "  <div class=' bordertesda' style='display: grid; grid-template-columns: .2fr 1fr .2fr;'>";
                  tesdastepapplicationformHtml += " <div> </div>";
                  tesdastepapplicationformHtml += "  <div class=' titleset p-4 my-auto'> <h4><b> Applicant's Profile </b> </h4> </div> ";
                  tesdastepapplicationformHtml += "  <img class='p-1' style='width:1in; height:1in;' src='" + tesdasingleApplicant.val().image + "'/>";
              tesdastepapplicationformHtml += " </div> </div>   ";  
                     
              // layer 4
              tesdastepapplicationformHtml += "<div class='backgroundcolor' style='font-weight: bold;'>";
                tesdastepapplicationformHtml += " <h6 class='p-1 mb-0 bordertesda  normalfont'> 1. Web-Based Information System Auto Generated: <i>(To be filled-out by TESDA Personel)</i> </h6>";
                tesdastepapplicationformHtml += "</div>";

              // layer 5
              tesdastepapplicationformHtml += "<div class='backgroundcolor' style='font-weight: bold;'>";
                tesdastepapplicationformHtml += " <h6 class='p-1 mb-0 bordertesda  normalfont'> 2. Application's Personal Information</h6>";
                tesdastepapplicationformHtml += "</div>";

              // layer 6
              tesdastepapplicationformHtml += "  <div id='personalinfo' style='border: solid; border-width: thin;'> <ul>";
                tesdastepapplicationformHtml += "<li class='mt-3' style='font-weight: bold;'>   2.1 Name  <br> <br> <br>   2.2 Complete <br> Permanent <br> Address </li>";
                
                tesdastepapplicationformHtml += "<li class='text-center' style='font-weight: bold;'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1' style='border:solid; border-width:thin; border-top:none;'>"+tesdasingleApplicant.val().last + "</p>Last ";
                  tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().streetnum + "</p>Number, Street ";
                  tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().city + "</p> City/Municipality  ";
                  tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().emailadd + "</p> Email Address </li>";
                
                  tesdastepapplicationformHtml += "<li class='text-center' style='font-weight: bold;'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1' style='border:solid; border-width:thin; border-top:none;'>"+tesdasingleApplicant.val().first + "</p>First ";
                    tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().barangay + "</p>Barangay ";
                    tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().province + "</p>Province";
                    tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().celno + "</p>Cellphone/Landline No.</li>";
                  
                    tesdastepapplicationformHtml += "<li class='text-center' style='font-weight: bold;'> <p class='tesdadatabasetext pb-0 py-1 m-0 ' style='border:solid; border-width:thin; border-top:none;  border-right:none;'>"+tesdasingleApplicant.val().middle + "</p> Middle ";
                      tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0  bordertesda' style=' border-right:none;'>"+tesdasingleApplicant.val().district + "</p>District ";
                      tesdastepapplicationformHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 bordertesda' style=' border-right:none;' >"+tesdasingleApplicant.val().region + "</p>Region </li></ul>";                  
                      tesdastepapplicationformHtml += "</div>";
 
              // layer 7
              tesdastepapplicationformHtml += "<div id='status' > <ul class='p-0 m-0'>";
                tesdastepapplicationformHtml += "<li class='p-2 bordertesda' style='font-weight: bold;'>  2.3. Sex <p class='text-center'>"+tesdasingleApplicant.val().gendervalue +" </p></li>";
                tesdastepapplicationformHtml += "<li class='p-2  bordertesda' style='font-weight: bold;'>  2.4. Civil Status  <p class='text-center'>"+tesdasingleApplicant.val().civilstatus +"  </p> </li>";
                tesdastepapplicationformHtml += "<li class='p-2  bordertesda' style='font-weight: bold;'>  2.5. Employment Status  <p class='text-center'>"+tesdasingleApplicant.val().employmentstatus +"</p> </li>";
                tesdastepapplicationformHtml += "</ul></div>";
 
              // layer 8
              tesdastepapplicationformHtml += "<div id='birth' style='border: solid; border-width: thin;'> <ul class='p-0 m-0'>";
                tesdastepapplicationformHtml += " <li style='font-weight: bold;' class='pl-2 pt-3'>  2.6 Birthdate   </li> "; 
                tesdastepapplicationformHtml += "  <li style='font-weight: bold; ' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().mbirth + "</p> Month of Birth   </li>";
                tesdastepapplicationformHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().dbirth + "</p> Day of Birth   </li>";
                tesdastepapplicationformHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().ybirth + "</p>  Year of Birth     </li>";
                tesdastepapplicationformHtml += "</ul></div>";
 
              // layer 9
              tesdastepapplicationformHtml += "<div id='birthplace' style='border: solid; border-width: thin;'> <ul class='p-0 m-0'>";
                tesdastepapplicationformHtml += " <li style='font-weight: bold;' class='pl-2 pt-3'>  2.6 Birthplace   </li> "; 
                tesdastepapplicationformHtml += "  <li style='font-weight: bold; ' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().placecity + "</p> City/Municipality   </li>";
                tesdastepapplicationformHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().placeprov + "</p>Province    </li>";
                tesdastepapplicationformHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().placeregion + "</p>  Region </li>";
                tesdastepapplicationformHtml += "</ul></div>";
 
              // layer 9
              tesdastepapplicationformHtml += "<h6 class='p-1 mb-0 backgroundcolor' style='border: solid; border-width: thin;'>   2.8 Highest Educational Attainment</h6>";
//chek edit
              tesdastepapplicationformHtml += " <p class='tesdadatabasetext pb-0 py-1 m-0  ' style='border: solid; border-width: thin;'>"+tesdasingleApplicant.val().attainment + "</p>  ";

              // layer 10
              tesdastepapplicationformHtml += "<div class='backgroundcolor'>";
                tesdastepapplicationformHtml += "<h6 class='p-1 mb-0 bordertesda'> *For below 18 years old, please specify the name of your guardian with his/her contact no. and complete permanent mailing address.  </h6>";
                tesdastepapplicationformHtml += " </div>";

              // layer 11
              tesdastepapplicationformHtml += " <div id='guardian' style='border: solid; border-width: thin;'> <ul class='m-0 p-0'>";    
                tesdastepapplicationformHtml += " <li style='font-weight: bold;' class='pl-2 pt-3'>  2.9 Parent/Guardian*   </li> "; 
                tesdastepapplicationformHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().parentname + "</p>Name    </li>";
                tesdastepapplicationformHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().parentno + "</p>Contact No. & Complete Permanent Mailing Address  </li>";
                tesdastepapplicationformHtml += "</ul></div>";
                   
              // layer 12
              tesdastepapplicationformHtml += "<div class='backgroundcolor'>";
                tesdastepapplicationformHtml += "<h6 class='p-1 mb-0 bordertesda'> 3. Classification of Applicant: <i>(Please select only one that is most applicable to you). </i> </h6>";
                tesdastepapplicationformHtml += " </div>";
                tesdastepapplicationformHtml += " <p class='tesdadatabasetext pb-0 py-1 m-0  ' style='border: solid; border-width: thin;'>"+tesdasingleApplicant.val().classificationapplicant + "</p>  ";

              // layer 13
              tesdastepapplicationformHtml += "<div class='backgroundcolor'>";
                tesdastepapplicationformHtml += "<h6 class='p-1 mb-0 bordertesda'> 4.  Training Programs (TVET Qualifications) Preferred     </h6>";
                tesdastepapplicationformHtml += " </div>";

              // layer 14
              tesdastepapplicationformHtml += "<div style='border: solid; border-width: thin;'> <ul class='p-0 m-0'>";
                tesdastepapplicationformHtml += " <li class='d-flex p-1  '  style='font-weight: bold;  border-bottom: solid; border-width: thin;'> 4.1 First Choice:  ";
                  tesdastepapplicationformHtml += "<p class='tesdadatabasetext m-0 p-0' style='border-bottom: solid; border-width: thin; width:60%;' >"+tesdasingleApplicant.val().secondchoice + "</p> </li> ";
                
                  tesdastepapplicationformHtml += "  <li style='font-weight: bold;  border-bottom: solid;  border-width: thin;' class='d-flex   p-1  '>   4.2 Second Choice:    <p class='tesdadatabasetext m-0 p-0' style='border-bottom: solid; border-width: thin; width:60%;'>"+tesdasingleApplicant.val().firstchoice + "</p>  </li>";
                  tesdastepapplicationformHtml += "<div style='font-weight: bold; '><li class='d-flex  pt-1 pl-1 '>   4.2 Other Preference*:  <p class='tesdadatabasetext m-0 p-0' style='border-bottom: solid; border-width: thin; width:60%;'>"+tesdasingleApplicant.val().thirdchoice + "</p>   </li> <p class='p-0 m-0' style='border-bottom: solid; border-width:thin; font-size:9px; font-style:italic;'>*Other Preference refers to TVET Qualification not found in the attached list of TVET Qualifications.</p> </div>";               
                  tesdastepapplicationformHtml += "</ul><div>";
              
              // layer 15
              tesdastepapplicationformHtml += "<div class='backgroundcolor'>";
                tesdastepapplicationformHtml += "<h6 class='p-1 mb-0 bordertesda'> 5. Privacy Disclaimer: </h6>";
                tesdastepapplicationformHtml += " </div>";

// checkbox edit
              // layer 15
              tesdastepapplicationformHtml += "<div style='border-top: solid; border-bottom: solid; border-width: thin;'>";
                tesdastepapplicationformHtml += "  <p class='p-2 justify' style='font-weight: bold;'> In case your application for TESDA scholarship will be approved, do you allow TESDA to share any of the relevant information which you provided in this Form with any other legitimate entities for possible employment whether prior, during or after your training? Kindly check your preference and sign over your printed name below. </p> ";
                tesdastepapplicationformHtml += " <div>";
                  tesdastepapplicationformHtml += " <div>"; 
                    tesdastepapplicationformHtml += "   <label style=' font-size: 12px; color: black; padding-bottom: 0em; padding-left: 23px;'> "+tesdasingleApplicant.val().disclaimer + "</label>";
                    tesdastepapplicationformHtml += " </div>";
                           
                    tesdastepapplicationformHtml += "<div  style='display: grid; grid-template-columns: 1.5fr .9fr .7fr;;'> ";
                      tesdastepapplicationformHtml += "<div>";
                        tesdastepapplicationformHtml += "  <div class=' text-center' style=' -webkit-transform: translate3d(0,0%,0);' > <div style='position: relative; -webkit-transform: translate3d(0,-35%,0); '>  <img style='width=.1in; height:.50in; -webkit-transform: translate3d(0,20%,0);' src='" + tesdasingleApplicant.val().signature + "'/>  <br> <b class='databasetext' style='position: absolute; left: 50%;transform: translate(-50%, -50%);'>" + tesdasingleApplicant.val().notesdasignature + tesdasingleApplicant.val().yestesdasignature +" </b> </div> <p class='mx-5' style='font-weight: bold; border-top:solid; border-width:thin;'> Signature Over Printed Name</p> </div>";  
                        tesdastepapplicationformHtml += "</div>";
                        tesdastepapplicationformHtml += "<div class=' d-flex mt-5' >";
                          tesdastepapplicationformHtml += "  <p class='m-0 p-0 ' style='font-weight: bold;'>Date :  <p class='m-0 p-0 tesdadatabasetext' style='height:23px; border-bottom:solid thin;  width:200px; '>"+tesdasingleApplicant.val().notesdadate +tesdasingleApplicant.val().yestesdadate + "</p></p>";
                          tesdastepapplicationformHtml += "</div>";
                          tesdastepapplicationformHtml += " </div>";
                          tesdastepapplicationformHtml += " </div></div>";
 
              
              // layer 16
              tesdastepapplicationformHtml += "<div class='backgroundcolor'>";
                tesdastepapplicationformHtml += "<h6 class='p-1 mb-0 bordertesda'> 5.  Applicant’s Signature </h6>";
                tesdastepapplicationformHtml += " </div>";

                tesdastepapplicationformHtml += "<div style='border-top: solid; border-bottom: solid; border-width: thin;'>";
                  tesdastepapplicationformHtml += "<p class='text-center mt-2'><i> This is to certify that the information stated above is true and correct. </i></p>";
              
                  tesdastepapplicationformHtml += "<div style='display: grid; grid-template-columns: 1.5fr .9fr .7fr;'> ";
                    tesdastepapplicationformHtml += "<div class='ml-3 text-center mr-5'>"; 
                      tesdastepapplicationformHtml += "  <div> <div style='position: relative; -webkit-transform: translate3d(0,-35%,0); '>  <img style='width=.1in; height:.50in; -webkit-transform: translate3d(0,20%,0);' src='" + tesdasingleApplicant.val().signature + "'/>  <br> <b class='tesdadatabasetext' style='position: absolute; left: 50%;transform: translate(-50%, -50%);'>" + tesdasingleApplicant.val().notesdasignature + tesdasingleApplicant.val().yestesdasignature +" </b> </div> <p style='font-weight: bold; border-top:solid; border-width:thin;'> <i> Applicant’s Signature Over Printed Name</i>  </p> </div>";  
                      tesdastepapplicationformHtml += "<p class='text-left'>Noted by: </p>"; 
                      tesdastepapplicationformHtml += "</div>";

                      tesdastepapplicationformHtml += "<div class='mr-5'>"; 
                        tesdastepapplicationformHtml += " <p class='pt-4 pb-0 m-0 tesdadatabasetext'>"+tesdasingleApplicant.val().notesdadate +tesdasingleApplicant.val().yestesdadate + "<br></p> <p  style='text-align: center; font-style: italic; border-top:solid; border-width:thin; font-weight: bold;'>Date Accomplished  </p>";
                        tesdastepapplicationformHtml += " </div>";

                        tesdastepapplicationformHtml += " <div class='bordertesda  text-center' style='height: 1.5in;width:1.5in;'>";
                          tesdastepapplicationformHtml += " Right Thumb Mark";
                          tesdastepapplicationformHtml += " </div>";
                          tesdastepapplicationformHtml += " </div>"; 


                          tesdastepapplicationformHtml += "<div style='display: grid; grid-template-columns: 1.5fr .9fr .7fr; border-bottom: solid; border-width: thin;'> ";
                            tesdastepapplicationformHtml += "<div class='ml-3 text-center mr-5'>"; 
                              tesdastepapplicationformHtml += "  <div> <div style='position: relative; -webkit-transform: translate3d(0,-35%,0); '>  <br> <b class='databasetext' style='position: absolute; left: 50%;transform: translate(-50%, -50%);'> </b> </div> <p style='font-weight: bold; border-top:solid; border-width:thin;'> Provincial Director <br><i> (Signature Over Printed Name)</i>  </p> </div>";  
                              tesdastepapplicationformHtml += "</div>";

                              tesdastepapplicationformHtml += "<div class='mr-5'>"; 
                                tesdastepapplicationformHtml += " <p class='pb-0 m-0 font-weight-bold text-center'><br></p> <p  style='text-align: center; font-style: italic; border-top:solid; border-width:thin; font-weight: bold;'> Date Received  </p>";
                        tesdastepapplicationformHtml += " </div>";

                        
                        tesdastepapplicationformHtml += " </div>";    
                                
                        tesdastepapplicationformHtml += "<div class='backgroundcolor' style='border-top: solid; border-width: thin;'>";
                          tesdastepapplicationformHtml += "<h6 class='p-1 mb-0  text-center'>  ***End of Application Form*** </h6>";
                          tesdastepapplicationformHtml += " </div>";               
                          tesdastepapplicationformHtml += " </div>";
                                        
              //modalbody
              tesdastepapplicationformHtml += " </div></div> </div> </div> </div>   ";  

              tesdastepapplicationformHtml += "</div>";
              tesdastepapplicationformHtml += "</td>";   
// endtd

              
            // td
            tesdastepapplicationformHtml += "<td> <h4  data-toggle='modal' data-target='#"+tesdasingleApplicant.val().first+"'> Documentary Requirements </h4>"   
              tesdastepapplicationformHtml += "<div class='modal fade' id='"+tesdasingleApplicant.val().first+"' role='dialog'>";  
                                            
                tesdastepapplicationformHtml += "<div class='modal-dialog'>  <div class='modal-content content mx-auto' > <div class='modal-header'> ";   
                  tesdastepapplicationformHtml += "<button type='button' class='close pull-right mb-3' data-dismiss='modal'> &times;</button> "; 

                  tesdastepapplicationformHtml += " <div class='modal-body p-0 m-0 mt-5' >";    
                    tesdastepapplicationformHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().NSOrequirement + "'>  <img  style='width:10in; height:auto;'  onclick=printDivreq9('" +tesdasingleApplicant.val().NSOrequirement + "')  src='" +tesdasingleApplicant.val().NSOrequirement + "'/> </div>";
                    tesdastepapplicationformHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().marriagerequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq8('" +tesdasingleApplicant.val().marriagerequirement + "') src='" +tesdasingleApplicant.val().marriagerequirement + "'/> </div>";
                    tesdastepapplicationformHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().diplomarequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq7('" +tesdasingleApplicant.val().diplomarequirement + "') src='" +tesdasingleApplicant.val().diplomarequirement + "'/> </div>";
                    tesdastepapplicationformHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().passportrequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq6('" +tesdasingleApplicant.val().passportrequirement + "') src='" +tesdasingleApplicant.val().passportrequirement + "'/> </div>";
                    tesdastepapplicationformHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().picturerequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq5('" +tesdasingleApplicant.val().picturerequirement + "') src='" +tesdasingleApplicant.val().picturerequirement + "'/> </div>";
                                  // modalbody
                                  tesdastepapplicationformHtml += "              <button type='button' class='btn btn-default' data-dismiss='modal'>Close</button>";

                                  tesdastepapplicationformHtml += "</div></div></div>";
                                  tesdastepapplicationformHtml += "</div>"; 
                                            
                                  tesdastepapplicationformHtml += "</td>";
                    // endtd
                    tesdastepapplicationformHtml += "<td > ";
                      tesdastepapplicationformHtml += " <div class='dropdown'> <button class='btn btn-secondary dropdown-toggle' style='text-transform:unset; font-size:16px;' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>   <span class='material-icons'>edit</span> </button>";
                        tesdastepapplicationformHtml += "   <div class='dropdown-menu' aria-labelledby='dropdownMenuButton' >";
                          tesdastepapplicationformHtml += "<label class='px-3 text-dark' onclick=addqualifiedstep('"+tesdasingleApplicant.key+"')><input type='checkbox' class='p-0 mr-2' style='text-transform:unset;' onClick='ckChange(this)' name='scholarship' id='"+tesdasingleApplicant.key+"'> Qualified </label>";  
                          tesdastepapplicationformHtml += "<label class='px-3 text-dark' ><input type='checkbox' onclick=disqualified('"+tesdasingleApplicant.key+"') class='p-0 mr-2' style='text-transform:unset;'  onClick='ckChange(this)' name='scholarship' id='"+tesdasingleApplicant.key+"'> Disqualified </label>";  
                          tesdastepapplicationformHtml += "</div></div>";
                          tesdastepapplicationformHtml += "</td>";

 


tesdastepapplicationformHtml += " </tr>"; 
        


   

      });
      $("#tesdastepapplicationform").html(tesdastepapplicationformHtml); 


      }
      });
  
  function ckChange(ckType){
        var ckName = document.getElementsByName(ckType.name);
        var checked = document.getElementById(ckType.id); 
              if (checked.checked) {
                for(var i=0; i < ckName.length; i++){

                    if(!ckName[i].checked){
                        ckName[i].disabled = true;
                    }else{
                        ckName[i].disabled = false;
                    }
                } 
              }
              else {
                for(var i=0; i < ckName.length; i++){
                  ckName[i].disabled = false;
                } 
              } 
      };
     
  function addqualifiedstep(key){
    var addqualifiedstepRef = firebase.database().ref().child("Tesda/Step_applicants").child(key); 
 
     // firebase refs
   var stepscholars = firebase.database().ref().child("Tesda/Qualified_Scholars/");  

   addqualifiedstepRef.on("value", function(snapshot) {
    var qualifiedlast = snapshot.val().last
    var qualifiedfirst = snapshot.val().first
    var qualifiedmiddle = snapshot.val().middle
    var qualifiedyearleveltesda = snapshot.val().yearleveltesda
    var qualifiedcelno = snapshot.val().celno
    var qualifiedtesdaqualifications = snapshot.val().tesdaqualifications

    document.getElementById('award').innerHTML =  "<dialog style='width:350px; height:150px;' id='"+qualifiedlast+"'>  <p class='p-0 m-0' id='alert'>"+qualifiedlast+", "+qualifiedfirst+", "+qualifiedmiddle+" </p><div class='text-center pt-2 '> <input style='width:300px;' class='mb-2' placeholder='Enter Award Number' id='awardno' > <br> <button class='mr-2 btn p-2 px-3 btn-success' id='awardbtn'> save</button> <button  class='ml-2 btn p-2 px-3 btn-danger' id='closebtn'> close</button> </div> </dialog>";
    $("#closebtn").click(function(){ 
      $("dialog#"+qualifiedlast+"").fadeOut();   
    });
    $("#awardbtn").click(function(){ 
      var awardno = $('#awardno').val();    

        if(awardno != ""){
          var qualifiedData = {
            "awardno" : awardno,
            "last" : qualifiedlast,
            "first" : qualifiedfirst,
            "middle" : qualifiedmiddle,
            "yearleveltesda" : qualifiedyearleveltesda,
            "celno" : qualifiedcelno,
            "tesdaqualifications" : qualifiedtesdaqualifications,
          };
          document.getElementById('resultched').innerHTML = "<b> "+ qualifiedlast + "</b> was added as qualified TESDA-STEP Scholar";
          stepscholars.push(qualifiedData);
          $("dialog#"+qualifiedlast+"").fadeOut();   
        // return addTDqualifiedRef.remove()
          
        }
        else{
          // window.alert("Please fill out Award No.") 
          document.getElementById('alert').innerHTML =  "  <i class='text-center text-danger font-weight-bold'>Please enter "+ qualifiedlast+"'s award no. </i>";

        }
   
   
    });

     

    }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
    });
  }

  function disqualified(key){ 
    var disqualified = firebase.database().ref().child("Tesda/Step_applicants").child(key); 
    
     // firebase refs
   var disqualifiedapplicants = firebase.database().ref().child("Tesda/Disqualified_applicants/STEP");   

   disqualified.on("value", function(snapshot) {
    
    var qualifiedlast = snapshot.val().first 

    document.getElementById('award').innerHTML =  "<dialog style='text-align: center; width: 350px;height:130px;' id='"+qualifiedlast+"'> <button id='exit' class='close float-right' data-dismiss='modal'>&times;</button> <br> <i class='font-weight-bold'>"+ qualifiedlast + "</i> did not qualify. <br> <button  class='ml-2 btn p-2 px-3 btn-danger' id='record'> record</button> <button  class='ml-2 btn p-2 px-3 btn-danger' id='delete'> delete </button> </div> </dialog>";
      $("#record").click(function(){ 
        $("dialog#"+qualifiedlast+"").fadeOut();   
        var dis = snapshot.val();    
        disqualifiedapplicants.push(dis);
        document.getElementById('resultched').innerHTML = "<b> "+ qualifiedlast + "'s' </b> application was added to <a href='#'>Recorded Applicants.</a>";
      });

      $("#exit").click(function(){ 
        $("dialog#"+qualifiedlast+"").fadeOut();   
      });

      $("#delete").click(function(){ 
        // disqualifiedapplicants.remove();
        console.log('deleted')
        $("dialog#"+qualifiedlast+"").fadeOut();   
        document.getElementById('resultched').innerHTML = "<b> "+ qualifiedlast + "'s </b> application record was deleted.";

      });

    
    

    }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
    });
  }


// print options
  function printDiv(application) {
      var printContents = document.getElementById(application).innerHTML;
      var originalContents = document.body.innerHTML;

      document.body.innerHTML = printContents;

      window.print();

      document.body.innerHTML = originalContents;
  }
  function printDivreq9(NSOrequirement) {
      var printContents = document.getElementById(NSOrequirement).innerHTML;
      var originalContents = document.body.innerHTML;

      document.body.innerHTML = printContents;

      window.print();

      document.body.innerHTML = originalContents;
  }
  function printDivreq8(marriagerequirement) {
      var printContents = document.getElementById(marriagerequirement).innerHTML;
      var originalContents = document.body.innerHTML;

      document.body.innerHTML = printContents;

      window.print();

      document.body.innerHTML = originalContents;
  }
  function printDivreq7(diplomarequirement) {
      var printContents = document.getElementById(diplomarequirement).innerHTML;
      var originalContents = document.body.innerHTML;

      document.body.innerHTML = printContents;

      window.print();

      document.body.innerHTML = originalContents;
  }
  function printDivreq6(passportrequirement) {
      var printContents = document.getElementById(passportrequirement).innerHTML;
      var originalContents = document.body.innerHTML;

      document.body.innerHTML = printContents;

      window.print();

      document.body.innerHTML = originalContents;
  }
  function printDivreq5(picturerequirement) {
     var printContents = document.getElementById(picturerequirement).innerHTML;
     var originalContents = document.body.innerHTML;

     document.body.innerHTML = printContents;

     window.print();

     document.body.innerHTML = originalContents;
}

    



  // TWSP  
  tesdatwspList.on("value", function(tesdatwspapplicationform){
      if(tesdatwspapplicationform.exists){
      var tesdatwspapplicationformmHtml =""; 
      tesdatwspapplicationform.forEach(function(tesdasingleApplicant){
        tesdatwspapplicantslist = tesdatwspapplicantslist + 1;

        tesdatwspapplicationformmHtml += "<tr> ";  
          tesdatwspapplicationformmHtml += "<td> <img style='width:.5in; height:.5in;' src='" + tesdasingleApplicant.val().image + "'/></td>"; 

          tesdatwspapplicationformmHtml += "<td> <h4>   " +tesdasingleApplicant.val().last + "," + " " ; 
            tesdatwspapplicationformmHtml +=   tesdasingleApplicant.val().first; 
            tesdatwspapplicationformmHtml += " " + " " + " " + " " + tesdasingleApplicant.val().middle + " </h4> </td>";  

            tesdatwspapplicationformmHtml += "<td> <label class='text-dark mt-1'>  <h4 data-toggle='modal' data-target='#"+tesdasingleApplicant.val().middle+"'> Form </h4> </label>";   
          
              tesdatwspapplicationformmHtml += "<div class='modal fade' id='"+tesdasingleApplicant.val().middle+"' role='dialog'>";  
          
                tesdatwspapplicationformmHtml += "<div class='modal-dialog'>  <div class='modal-content content mx-auto' > <div class='modal-header'> ";   
                  tesdatwspapplicationformmHtml += "  <button type='button' class='close pull-right' data-dismiss='modal'>&times;</button> ";  

                  tesdatwspapplicationformmHtml += "<label> <span class='material-icons'>print</span> <input type='button' onclick=printDiv01v('stepprintme') style='position: absolute; z-index: -1;'> </input> </label>  <div class='modal-body p-0' id='stepprintme'> ";    
              // modalbody    

              // layer 1
              tesdatwspapplicationformmHtml += "<div id='header' class='bordertesda mt-4'>";
                tesdatwspapplicationformmHtml += "  <div class='text-center p-0' style='display: grid; grid-template-columns: .2fr 1fr .2fr;'>";

                  tesdatwspapplicationformmHtml += "  <div  style='border-right:solid; border-width:thin;'>";
                    tesdatwspapplicationformmHtml += " <img src='/img/tesda.png'  height='50px' width='50px'>";
                    tesdatwspapplicationformmHtml += "</div>";
                    tesdatwspapplicationformmHtml += "  <div class=' guide' style='border-right:solid; border-width:thin;'>  <b>  Technical Education and Skills Development Authority </b> <br>  Pangasiwaan sa Edukasyong Teknikal at Pagpapaunlad ng Kasanayan TWSA Form   </div> ";
                    tesdatwspapplicationformmHtml += "<div  class='guide'> <b> <i> TWSA Form  <br> 0032017 </i></b> </div>";
                    tesdatwspapplicationformmHtml += "</div>";
              tesdatwspapplicationformmHtml += " </div>";

              // layer 2
              tesdatwspapplicationformmHtml += "  <div style='border-right:solid; border-left:solid; border-width:thin; '>";
                tesdatwspapplicationformmHtml += " <h5 class='titleset p-2 mb-0 ' style=' style='font-weight: bold;'>TESDA Walk-in Scholarship Application Form</h5>";
                tesdatwspapplicationformmHtml += "</div>";

              // layer 3
              tesdatwspapplicationformmHtml += " <div id='applicantprof'>";
                tesdatwspapplicationformmHtml += "  <div class=' bordertesda' style='display: grid; grid-template-columns: .2fr 1fr .2fr;'>";
                  tesdatwspapplicationformmHtml += " <div> </div>";
                  tesdatwspapplicationformmHtml += "  <div class=' titleset p-4 my-auto'> <h4><b> Applicant's Profile </b> </h4> </div> ";
                  tesdatwspapplicationformmHtml += "  <img class='p-1' style='width:1in; height:1in;' src='" + tesdasingleApplicant.val().image + "'/>";
                  tesdatwspapplicationformmHtml += " </div> </div>   ";  
                     
              // layer 4
              tesdatwspapplicationformmHtml += "<div class='backgroundcolor' style='font-weight: bold;'>";
                tesdatwspapplicationformmHtml += " <h6 class='p-1 mb-0 bordertesda  normalfont'> 1. Web-Based Information System Auto Generated: <i>(To be filled-out by TESDA Personel)</i> </h6>";
                tesdatwspapplicationformmHtml += "</div>";

              // layer 5
              tesdatwspapplicationformmHtml += "<div class='backgroundcolor' style='font-weight: bold;'>";
                tesdatwspapplicationformmHtml += " <h6 class='p-1 mb-0 bordertesda  normalfont'> 2. Application's Personal Information</h6>";
                tesdatwspapplicationformmHtml += "</div>";

              // layer 6
              tesdatwspapplicationformmHtml += "  <div id='personalinfo' style='border: solid; border-width: thin;'> <ul>";
                tesdatwspapplicationformmHtml += "<li class='mt-3' style='font-weight: bold;'>   2.1 Name  <br> <br> <br>   2.2 Complete <br> Permanent <br> Address </li>";
                
                tesdatwspapplicationformmHtml += "<li class='text-center' style='font-weight: bold;'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1' style='border:solid; border-width:thin; border-top:none;'>"+tesdasingleApplicant.val().last + "</p>Last ";
                  tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().streetnum + "</p>Number, Street ";
                  tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().city + "</p> City/Municipality  ";
                  tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().emailadd + "</p> Email Address </li>";
                
                  tesdatwspapplicationformmHtml += "<li class='text-center' style='font-weight: bold;'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1' style='border:solid; border-width:thin; border-top:none;'>"+tesdasingleApplicant.val().first + "</p>First ";
                    tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().barangay + "</p>Barangay ";
                    tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().province + "</p>Province";
                    tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().celno + "</p>Cellphone/Landline No.</li>";
                  
                    tesdatwspapplicationformmHtml += "<li class='text-center' style='font-weight: bold;'> <p class='tesdadatabasetext pb-0 py-1 m-0 ' style='border:solid; border-width:thin; border-top:none;  border-right:none;'>"+tesdasingleApplicant.val().middle + "</p> Middle ";
                      tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0  bordertesda' style=' border-right:none;'>"+tesdasingleApplicant.val().district + "</p>District ";
                      tesdatwspapplicationformmHtml += "  <p class='tesdadatabasetext pb-0 py-1 m-0 bordertesda' style=' border-right:none;' >"+tesdasingleApplicant.val().region + "</p>Region </li></ul>";                  
                      tesdatwspapplicationformmHtml += "</div>";
 
              // layer 7
              tesdatwspapplicationformmHtml += "<div id='status' > <ul class='p-0 m-0'>";
                tesdatwspapplicationformmHtml += "<li class='p-2 bordertesda' style='font-weight: bold;'>  2.3. Sex <p class='text-center'>"+tesdasingleApplicant.val().gendervalue +" </p></li>";
                tesdatwspapplicationformmHtml += "<li class='p-2  bordertesda' style='font-weight: bold;'>  2.4. Civil Status  <p class='text-center'>"+tesdasingleApplicant.val().civilstatus +"  </p> </li>";
                tesdatwspapplicationformmHtml += "<li class='p-2  bordertesda' style='font-weight: bold;'>  2.5. Employment Status  <p class='text-center'>"+tesdasingleApplicant.val().employmentstatus +"</p> </li>";
              tesdatwspapplicationformmHtml += "</ul></div>";
 
              // layer 8
              tesdatwspapplicationformmHtml += "<div id='birth' style='border: solid; border-width: thin;'> <ul class='p-0 m-0'>";
                tesdatwspapplicationformmHtml += " <li style='font-weight: bold;' class='pl-2 pt-3'>  2.6 Birthdate   </li> "; 
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold; ' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().mbirth + "</p> Month of Birth   </li>";
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().dbirth + "</p> Day of Birth   </li>";
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().ybirth + "</p>  Year of Birth     </li>";
                tesdatwspapplicationformmHtml += "</ul></div>";
 
              // layer 9
              tesdatwspapplicationformmHtml += "<div id='birthplace' style='border: solid; border-width: thin;'> <ul class='p-0 m-0'>";
                tesdatwspapplicationformmHtml += " <li style='font-weight: bold;' class='pl-2 pt-3'>  2.6 Birthplace   </li> "; 
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold; ' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().placecity + "</p> City/Municipality   </li>";
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().placeprov + "</p>Province    </li>";
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().placeregion + "</p>  Region </li>";
                tesdatwspapplicationformmHtml += "</ul></div>";
 
              // layer 9
              tesdatwspapplicationformmHtml += "<h6 class='p-1 mb-0 backgroundcolor' style='border: solid; border-width: thin;'>   2.8 Highest Educational Attainment</h6>";
//chek edit
              tesdatwspapplicationformmHtml += " <p class='tesdadatabasetext pb-0 py-1 m-0  ' style='border: solid; border-width: thin;'>"+tesdasingleApplicant.val().attainment + "</p>  ";

              // layer 10
              tesdatwspapplicationformmHtml += "<div class='backgroundcolor'>";
                tesdatwspapplicationformmHtml += "<h6 class='p-1 mb-0 bordertesda'> *For below 18 years old, please specify the name of your guardian with his/her contact no. and complete permanent mailing address.  </h6>";
                tesdatwspapplicationformmHtml += " </div>";

              // layer 11
              tesdatwspapplicationformmHtml += " <div id='guardian' style='border: solid; border-width: thin;'> <ul class='m-0 p-0'>";    
                tesdatwspapplicationformmHtml += " <li style='font-weight: bold;' class='pl-2 pt-3'>  2.9 Parent/Guardian*   </li> "; 
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().parentname + "</p>Name    </li>";
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold;' class='text-center pt-3 mr-1'> <p class='tesdadatabasetext pb-0 py-1 m-0 mr-1 bordertesda' >"+tesdasingleApplicant.val().parentno + "</p>Contact No. & Complete Permanent Mailing Address  </li>";
              tesdatwspapplicationformmHtml += "</ul></div>";
                   
              // layer 12
              tesdatwspapplicationformmHtml += "<div class='backgroundcolor'>";
                tesdatwspapplicationformmHtml += "<h6 class='p-1 mb-0 bordertesda'> 3. Classification of Applicant: <i>(Please select only one that is most applicable to you). </i> </h6>";
                tesdatwspapplicationformmHtml += " </div>";
                tesdatwspapplicationformmHtml += " <p class='tesdadatabasetext pb-0 py-1 m-0  ' style='border: solid; border-width: thin;'>"+tesdasingleApplicant.val().classificationapplicant + "</p>  ";

              // layer 13
              tesdatwspapplicationformmHtml += "<div class='backgroundcolor'>";
                tesdatwspapplicationformmHtml += "<h6 class='p-1 mb-0 bordertesda'> 4.  Training Programs (TVET Qualifications) Preferred     </h6>";
                tesdatwspapplicationformmHtml += " </div>";

              // layer 14
              tesdatwspapplicationformmHtml += "<div style='border: solid; border-width: thin;'> <ul class='p-0 m-0'>";
                tesdatwspapplicationformmHtml += " <li class='d-flex p-1  '  style='font-weight: bold;  border-bottom: solid; border-width: thin;'> 4.1 First Choice:  ";
                tesdatwspapplicationformmHtml += "<p class='tesdadatabasetext m-0 p-0' style='border-bottom: solid; border-width: thin; width:60%;' >"+tesdasingleApplicant.val().secondchoice + "</p> </li> ";
                
                tesdatwspapplicationformmHtml += "  <li style='font-weight: bold;  border-bottom: solid;  border-width: thin;' class='d-flex   p-1  '>   4.2 Second Choice:    <p class='tesdadatabasetext m-0 p-0' style='border-bottom: solid; border-width: thin; width:60%;'>"+tesdasingleApplicant.val().firstchoice + "</p>  </li>";
                  tesdatwspapplicationformmHtml += "<div style='font-weight: bold; '><li class='d-flex  pt-1 pl-1 '>   4.2 Other Preference*:  <p class='tesdadatabasetext m-0 p-0' style='border-bottom: solid; border-width: thin; width:60%;'>"+tesdasingleApplicant.val().thirdchoice + "</p>   </li> <p class='p-0 m-0' style='border-bottom: solid; border-width:thin; font-size:9px; font-style:italic;'>*Other Preference refers to TVET Qualification not found in the attached list of TVET Qualifications.</p> </div>";               
                  tesdatwspapplicationformmHtml += "</ul><div>";
              
              // layer 15
              tesdatwspapplicationformmHtml += "<div class='backgroundcolor'>";
                tesdatwspapplicationformmHtml += "<h6 class='p-1 mb-0 bordertesda'> 5. Privacy Disclaimer: </h6>";
                tesdatwspapplicationformmHtml += " </div>";

// checkbox edit
              // layer 15
              tesdatwspapplicationformmHtml += "<div style='border-top: solid; border-bottom: solid; border-width: thin;'>";
                tesdatwspapplicationformmHtml += "  <p class='p-2 justify' style='font-weight: bold;'> In case your application for TESDA scholarship will be approved, do you allow TESDA to share any of the relevant information which you provided in this Form with any other legitimate entities for possible employment whether prior, during or after your training? Kindly check your preference and sign over your printed name below. </p> ";
                tesdatwspapplicationformmHtml += " <div>";
                  tesdatwspapplicationformmHtml += " <div>"; 
                    tesdatwspapplicationformmHtml += "   <label style=' font-size: 12px; color: black; padding-bottom: 0em; padding-left: 23px;'> "+tesdasingleApplicant.val().disclaimer + "</label>";
                    tesdatwspapplicationformmHtml += " </div>";
                           
                    tesdatwspapplicationformmHtml += "<div  style='display: grid; grid-template-columns: 1.5fr .9fr .7fr;;'> ";
                      tesdatwspapplicationformmHtml += "<div>";
                        tesdatwspapplicationformmHtml += "  <div class=' text-center' style=' -webkit-transform: translate3d(0,0%,0);' > <div style='position: relative; -webkit-transform: translate3d(0,-35%,0); '>  <img style='width=.1in; height:.50in; -webkit-transform: translate3d(0,20%,0);' src='" + tesdasingleApplicant.val().signature + "'/>  <br> <b class='databasetext' style='position: absolute; left: 50%;transform: translate(-50%, -50%);'>" + tesdasingleApplicant.val().notesdasignature + tesdasingleApplicant.val().yestesdasignature +" </b> </div> <p class='mx-5' style='font-weight: bold; border-top:solid; border-width:thin;'> Signature Over Printed Name</p> </div>";  
                        tesdatwspapplicationformmHtml += "</div>";
                        tesdatwspapplicationformmHtml += "<div class=' d-flex mt-5' >";
                          tesdatwspapplicationformmHtml += "  <p class='m-0 p-0 ' style='font-weight: bold;'>Date :  <p class='m-0 p-0 tesdadatabasetext' style='height:23px; border-bottom:solid thin;  width:200px; '>"+tesdasingleApplicant.val().notesdadate +tesdasingleApplicant.val().yestesdadate + "</p></p>";
                          tesdatwspapplicationformmHtml += "</div>";
                    tesdatwspapplicationformmHtml += " </div>";
              tesdatwspapplicationformmHtml += " </div></div>";
 
              
              // layer 16
              tesdatwspapplicationformmHtml += "<div class='backgroundcolor'>";
                tesdatwspapplicationformmHtml += "<h6 class='p-1 mb-0 bordertesda'> 5.  Applicant’s Signature </h6>";
                tesdatwspapplicationformmHtml += " </div>";

                tesdatwspapplicationformmHtml += "<div style='border-top: solid; border-bottom: solid; border-width: thin;'>";
                  tesdatwspapplicationformmHtml += "<p class='text-center mt-2'><i> This is to certify that the information stated above is true and correct. </i></p>";
              
                  tesdatwspapplicationformmHtml += "<div style='display: grid; grid-template-columns: 1.5fr .9fr .7fr;'> ";
                    tesdatwspapplicationformmHtml += "<div class='ml-3 text-center mr-5'>"; 
                      tesdatwspapplicationformmHtml += "  <div> <div style='position: relative; -webkit-transform: translate3d(0,-35%,0); '>  <img style='width=.1in; height:.50in; -webkit-transform: translate3d(0,20%,0);' src='" + tesdasingleApplicant.val().signature + "'/>  <br> <b class='tesdadatabasetext' style='position: absolute; left: 50%;transform: translate(-50%, -50%);'>" + tesdasingleApplicant.val().notesdasignature + tesdasingleApplicant.val().yestesdasignature +" </b> </div> <p style='font-weight: bold; border-top:solid; border-width:thin;'> <i> Applicant’s Signature Over Printed Name</i>  </p> </div>";  
                      tesdatwspapplicationformmHtml += "<p class='text-left'>Noted by: </p>"; 
                      tesdatwspapplicationformmHtml += "</div>";

                      tesdatwspapplicationformmHtml += "<div class='mr-5'>"; 
                        tesdatwspapplicationformmHtml += " <p class='pt-4 pb-0 m-0 tesdadatabasetext'>"+tesdasingleApplicant.val().notesdadate +tesdasingleApplicant.val().yestesdadate + "<br></p> <p  style='text-align: center; font-style: italic; border-top:solid; border-width:thin; font-weight: bold;'>Date Accomplished  </p>";
                        tesdatwspapplicationformmHtml += " </div>";

                        tesdatwspapplicationformmHtml += " <div class='bordertesda  text-center' style='height: 1.5in;width:1.5in;'>";
                          tesdatwspapplicationformmHtml += " Right Thumb Mark";
                          tesdatwspapplicationformmHtml += " </div>";
                  tesdatwspapplicationformmHtml += " </div>"; 


                  tesdatwspapplicationformmHtml += "<div style='display: grid; grid-template-columns: 1.5fr .9fr .7fr; border-bottom: solid; border-width: thin;'> ";
                    tesdatwspapplicationformmHtml += "<div class='ml-3 text-center mr-5'>"; 
                      tesdatwspapplicationformmHtml += "  <div> <div style='position: relative; -webkit-transform: translate3d(0,-35%,0); '>  <br> <b class='databasetext' style='position: absolute; left: 50%;transform: translate(-50%, -50%);'> </b> </div> <p style='font-weight: bold; border-top:solid; border-width:thin;'> Provincial Director <br><i> (Signature Over Printed Name)</i>  </p> </div>";  
                      tesdatwspapplicationformmHtml += "</div>";

                      tesdatwspapplicationformmHtml += "<div class='mr-5'>"; 
                        tesdatwspapplicationformmHtml += " <p class='pb-0 m-0 font-weight-bold text-center'><br></p> <p  style='text-align: center; font-style: italic; border-top:solid; border-width:thin; font-weight: bold;'> Date Received  </p>";
                        tesdatwspapplicationformmHtml += " </div>";

                        
                  tesdatwspapplicationformmHtml += " </div>";    
                                
                                tesdatwspapplicationformmHtml += "<div class='backgroundcolor' style='border-top: solid; border-width: thin;'>";
                                  tesdatwspapplicationformmHtml += "<h6 class='p-1 mb-0  text-center'>  ***End of Application Form*** </h6>";
                                tesdatwspapplicationformmHtml += " </div>";               
              tesdatwspapplicationformmHtml += " </div>";
                                        
              //modalbody
              tesdatwspapplicationformmHtml += " </div></div> </div> </div> </div>   ";  

              tesdatwspapplicationformmHtml += "</div>";
              tesdatwspapplicationformmHtml += "</td>";   
// endtd

              
// td
                tesdatwspapplicationformmHtml += "<td> <h4  data-toggle='modal' data-target='#"+tesdasingleApplicant.val().first+"'> Documentary Requirements </h4>"   
                  tesdatwspapplicationformmHtml += "<div class='modal fade' id='"+tesdasingleApplicant.val().first+"' role='dialog'>";  
                                
                    tesdatwspapplicationformmHtml += "<div class='modal-dialog'>  <div class='modal-content content mx-auto' > <div class='modal-header'> ";   
                      tesdatwspapplicationformmHtml += "<button type='button' class='close pull-right mb-3' data-dismiss='modal'> &times;</button> "; 

                      tesdatwspapplicationformmHtml += " <div class='modal-body p-0 m-0 mt-5' >";    
                        tesdatwspapplicationformmHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().NSOrequirement + "'>  <img  style='width:10in; height:auto;'  onclick=printDivreq('" +tesdasingleApplicant.val().NSOrequirement + "')  src='" +tesdasingleApplicant.val().NSOrequirement + "'/> </div>";
                        tesdatwspapplicationformmHtml += "<div class='text-center mt-5' id='"+tesdasingleApplicant.val().marriagerequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq1('"+tesdasingleApplicant.val().marriagerequirement + "') src='" +tesdasingleApplicant.val().marriagerequirement + "'/> </div>";
                        tesdatwspapplicationformmHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().diplomarequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq2('" +tesdasingleApplicant.val().diplomarequirement + "') src='" +tesdasingleApplicant.val().diplomarequirement + "'/> </div>";
                        tesdatwspapplicationformmHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().passportrequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq3('" +tesdasingleApplicant.val().passportrequirement + "') src='" +tesdasingleApplicant.val().passportrequirement + "'/> </div>";
                        tesdatwspapplicationformmHtml += "<div class='text-center mt-5' id='" +tesdasingleApplicant.val().picturerequirement + "'>  <img style='width:10in; height:auto;' onclick=printDivreq4('" +tesdasingleApplicant.val().picturerequirement + "') src='" +tesdasingleApplicant.val().picturerequirement + "'/> </div>";
                       // modalbody
                        tesdatwspapplicationformmHtml += "</div></div></div>";
                        tesdatwspapplicationformmHtml += "</div>";  
                tesdatwspapplicationformmHtml += "</td>";

                tesdatwspapplicationformmHtml += "<td > ";
                  tesdatwspapplicationformmHtml += " <div class='dropdown'> <button class='btn btn-secondary dropdown-toggle' style='text-transform:unset; font-size:16px;' type='button' id='dropdownMenuButton' data-toggle='dropdown' aria-haspopup='true' aria-expanded='false'>   <span class='material-icons'>edit</span> </button>";
                    tesdatwspapplicationformmHtml += "   <div class='dropdown-menu' aria-labelledby='dropdownMenuButton' >";
                      tesdatwspapplicationformmHtml += "<label class='px-3 text-dark' onclick=addqualifiedtwsp('"+tesdasingleApplicant.key+"')><input type='checkbox' class='p-0 mr-2' style='text-transform:unset;' onClick='ckChange(this)' name='scholarship' id='"+tesdasingleApplicant.key+"'> Qualified </label>";  
                      tesdatwspapplicationformmHtml += "<label class='px-3 text-dark' ><input type='checkbox' onclick=disqualifiedtwsp('"+tesdasingleApplicant.key+"') class='p-0 mr-2' style='text-transform:unset;'  onClick='ckChange(this)' name='scholarship' id='"+tesdasingleApplicant.key+"'> Disqualified </label>";  
                 tesdatwspapplicationformmHtml += "</div></div>";
                tesdatwspapplicationformmHtml += "</td>";

// endtd
              tesdatwspapplicationformmHtml += " </tr>";  
            });
             $("#tesdatwspapplicationform").html(tesdatwspapplicationformmHtml); 
      
          }
      });

  function addqualifiedtwsp(key){
    var addqualifiedtwspRef = firebase.database().ref().child("Tesda/Twsp_applicants").child(key); 
 
     // firebase refs
   var twspscholars = firebase.database().ref().child("Tesda/Qualified_Scholars/");  

   addqualifiedtwspRef.on("value", function(snapshot) {
    var qualifiedlast = snapshot.val().last
    var qualifiedfirst = snapshot.val().first
    var qualifiedmiddle = snapshot.val().middle
    var qualifiedyearleveltesda = snapshot.val().yearleveltesda
    var qualifiedcelno = snapshot.val().celno
    var qualifiedtesdaqualifications = snapshot.val().tesdaqualifications

    document.getElementById('award').innerHTML =  "<dialog style='width:350px; height:150px;' id='"+qualifiedlast+"'>  <p class='p-0 m-0' id='alert'>"+qualifiedlast+", "+qualifiedfirst+", "+qualifiedmiddle+" </p><div class='text-center pt-2 '> <input style='width:300px;' class='mb-2' placeholder='Enter Award Number' id='awardno' > <br> <button class='mr-2 btn p-2 px-3 btn-success' id='awardbtn'> save</button> <button  class='ml-2 btn p-2 px-3 btn-danger' id='closebtn'> close</button> </div> </dialog>";
    $("#closebtn").click(function(){ 
      $("dialog#"+qualifiedlast+"").fadeOut();   
    });
    $("#awardbtn").click(function(){ 
      var awardno = $('#awardno').val();    

        if(awardno != ""){
          var qualifiedData = {
            "awardno" : awardno,
            "last" : qualifiedlast,
            "first" : qualifiedfirst,
            "middle" : qualifiedmiddle,
            "yearleveltesda" : qualifiedyearleveltesda,
            "celno" : qualifiedcelno,
            "tesdaqualifications" : qualifiedtesdaqualifications,
          };
          document.getElementById('resultched').innerHTML = "<b> "+ qualifiedlast + "</b> was added as qualified TESDA-TWSP scholar";
          twspscholars.push(qualifiedData);
          $("dialog#"+qualifiedlast+"").fadeOut();   
        // return addTDqualifiedRef.remove()
          
        }
        else{
          // window.alert("Please fill out Award No.") 
          document.getElementById('alert').innerHTML =  "  <i class='text-center text-danger font-weight-bold'>Please enter "+ qualifiedlast+"'s award no. </i>";

        }
   
   
    });

     

    }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
    });
  }

  function disqualifiedtwsp(key){ 
    var disqualified = firebase.database().ref().child("Tesda/Twsp_applicants").child(key); 
    
     // firebase refs
   var disqualifiedapplicants = firebase.database().ref().child("Tesda/Disqualified_applicants/TWSP");   

   disqualified.on("value", function(snapshot) {
    
    var qualifiedlast = snapshot.val().first 

    document.getElementById('award').innerHTML =  "<dialog style='text-align: center; width: 350px;height:130px;' id='"+qualifiedlast+"'> <button id='exit' class='close float-right' data-dismiss='modal'>&times;</button> <br> <i class='font-weight-bold'>"+ qualifiedlast + "</i> did not qualify. <br> <button  class='ml-2 btn p-2 px-3 btn-danger' id='record'> record</button> <button  class='ml-2 btn p-2 px-3 btn-danger' id='delete'> delete </button> </div> </dialog>";
      $("#record").click(function(){ 
        $("dialog#"+qualifiedlast+"").fadeOut();   
        var dis = snapshot.val();    
        disqualifiedapplicants.push(dis);
        document.getElementById('resultched').innerHTML = "<b> "+ qualifiedlast + "'s' </b> application was added to <a href='#'>Recorded Applicants.</a>";
      });

      $("#exit").click(function(){ 
        $("dialog#"+qualifiedlast+"").fadeOut();   
      });

      $("#delete").click(function(){ 
        // disqualifiedapplicants.remove();
        console.log('deleted')
        $("dialog#"+qualifiedlast+"").fadeOut();   
        document.getElementById('resultched').innerHTML = "<b> "+ qualifiedlast + "'s </b> application record was deleted.";

      });

    
    

    }, function (errorObject) {
        console.log("The read failed: " + errorObject.code);
    });
  }




    // print options
    function printDiv01v(stepprintme) {
     var printContents = document.getElementById(stepprintme).innerHTML;
     var originalContents = document.body.innerHTML;

     document.body.innerHTML = printContents;

     window.print();

     document.body.innerHTML = originalContents;
}
    function printDivreq(NSOrequirement) {
        var printContents = document.getElementById(NSOrequirement).innerHTML;
        var originalContents = document.body.innerHTML;

        document.body.innerHTML = printContents;

        window.print();

        document.body.innerHTML = originalContents;
    }
    function printDivreq1(marriagerequirement) {
        var printContents = document.getElementById(marriagerequirement).innerHTML;
        var originalContents = document.body.innerHTML;

        document.body.innerHTML = printContents;

        window.print();

        document.body.innerHTML = originalContents;
    }
    function printDivreq2(diplomarequirement) {
        var printContents = document.getElementById(diplomarequirement).innerHTML;
        var originalContents = document.body.innerHTML;

        document.body.innerHTML = printContents;

        window.print();

        document.body.innerHTML = originalContents;
    }
    function printDivreq3(passportrequirement) {
        var printContents = document.getElementById(passportrequirement).innerHTML;
        var originalContents = document.body.innerHTML;

        document.body.innerHTML = printContents;

        window.print();

        document.body.innerHTML = originalContents;
    }
    function printDivreq4(picturerequirement) {
        var printContents = document.getElementById(picturerequirement).innerHTML;
        var originalContents = document.body.innerHTML;

        document.body.innerHTML = printContents;

        window.print();

        document.body.innerHTML = originalContents;
    }
</script>
 
</script>
 
 

</div>
</body>
</html>